<!-- ============================
index.html - Sprints 1 a 6
============================ -->
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Movilidad Reducida ‚Äî App</title>

  <!-- Estilos -->
  <link rel="stylesheet" href="style.css" />

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
</head>
<script>
  // Foro simulado
  const listaForo = document.getElementById('listaForo');
  const formForo = document.getElementById('formForo');

  // Funci√≥n para agregar post al foro
  function agregarPost(usuario, mensaje){
    const li = document.createElement('li');
    li.innerHTML = `<strong>${usuario}</strong>: ${mensaje} 
      <button class="btn-corazon" title="Me gusta">‚ù§Ô∏è</button>
      <button class="btn-responder" title="Responder">‚Ü©Ô∏è</button>`;
    listaForo.prepend(li);

    // Funciones de botones
    li.querySelector('.btn-corazon').addEventListener('click', ()=>alert('¬°Le diste ‚ù§Ô∏è!'));
    li.querySelector('.btn-responder').addEventListener('click', ()=>{
      const resp = prompt('Escribe tu respuesta:');
      if(resp) agregarPost(usuario+' (respuesta)', resp);
    });
  }

  // Evento submit del formulario
  formForo.addEventListener('submit', e => {
    e.preventDefault();
    const usuario = document.getElementById('foroUsuario').value.trim();
    const mensaje = document.getElementById('foroMensaje').value.trim();
    if(usuario && mensaje){
      agregarPost(usuario, mensaje);
      formForo.reset();
    }
  });
</script>

<body>

  <!-- ============================
  HEADER / NAV - Sprint 1
  ============================ -->
  <header class="site-header" role="banner">
    <div class="brand"><h1 class="site-title">Movilidad Reducida</h1></div>
    <button id="btnMenu" class="btn btn-outline hamburger" aria-label="Abrir men√∫">‚ò∞</button>
    <nav role="navigation" aria-label="Navegaci√≥n principal">
      <ul class="nav-list">
        <!-- Sprint 2 - Secciones -->
        <li><a href="#" class="nav-link" data-section="inicio" aria-current="page">Inicio</a></li>
        <li><a href="#" class="nav-link" data-section="mapa">Mapa</a></li>
        <li><a href="#" class="nav-link" data-section="historial">Historial</a></li>
        <li><a href="#" class="nav-link" data-section="favoritos">Favoritos</a></li>

        <!-- Sprint 3 - Acciones -->
        <li><a href="#" class="nav-link action-link" data-action="registro">Registro</a></li>
        <li><a href="#" class="nav-link action-link" data-action="login">Iniciar Sesi√≥n</a></li>
        <li><a href="#" class="nav-link action-link" data-action="privacidad">Aviso de Privacidad</a></li>
        <li><a href="#" class="nav-link" data-section="foro">Foro</a></li>



        <!-- Sprint 4 - Modo oscuro -->
        <li><button id="btnDarkMode" class="btn btn-outline" aria-pressed="false">üåì</button></li>
      </ul>
    </nav>
  </header>

  <!-- ============================
  MAIN - Sprint 2
  ============================ -->
  <main id="main">
    <!-- Sprint 2 - Inicio -->
    <section id="inicio" class="section active hero-section" aria-labelledby="inicio-title">
      <div class="hero">
        <div class="hero-info">
          <h2 id="inicio-title">Tu camino, m√°s accesible</h2>
          <p>La aplicaci√≥n <strong>Movilidad Reducida</strong> te ayuda a desplazarte con seguridad, mostrando rutas accesibles, alertas y asistencia de voluntarios.</p>
          <div class="hero-buttons">
            <button class="btn btn-primary" data-section="mapa">Explorar Mapa</button>
            <button class="btn btn-secondary" data-action="registro">Registrarme</button>
          </div>
        </div>
        <div class="hero-image">
          <a href="#" class="hero-link" data-section="mapa" title="Ir al mapa">
            <img src="https://cdn-icons-png.flaticon.com/512/2966/2966327.png" alt="Ilustraci√≥n accesibilidad" />
          </a>
        </div>
      </div>

      <!-- Sprint 2 - Features -->
      <div class="features-grid">
        <div class="feature-card" data-section="mapa" tabindex="0">
          <img src="https://cdn-icons-png.flaticon.com/512/854/854878.png" alt="Icono mapa" class="feature-img"/>
          <h3>Mapa Accesible</h3>
          <p>Detecta rampas, ascensores y obst√°culos en tiempo real.</p>
        </div>
        <div class="feature-card" data-section="favoritos" tabindex="0">
          <img src="https://cdn-icons-png.flaticon.com/512/535/535285.png" alt="Icono favoritos" class="feature-img"/>
          <h3>Favoritos</h3>
          <p>Guarda tus rutas o lugares preferidos.</p>
        </div>
        <div class="feature-card" data-section="historial" tabindex="0">
          <img src="https://cdn-icons-png.flaticon.com/512/1828/1828859.png" alt="Icono historial" class="feature-img"/>
          <h3>Historial</h3>
          <p>Consulta tus recorridos o reportes pasados.</p>
        </div>
      </div>
    </section>

    <!-- ============================
    MAPA - Sprint 5
    ============================ -->
    <section id="mapa" class="section">
      <div class="map-wrapper">
        <div id="map" class="map"></div>

        <!-- Sprint 6 - Filtros debajo del mapa -->
        <div class="map-filters map-filters-bottom">
          <label><input type="checkbox" value="rampa" checked> Rampa</label>
          <label><input type="checkbox" value="ascensor" checked> Ascensor</label>
          <label><input type="checkbox" value="obstaculo" checked> Obst√°culo</label>
        </div>
      </div>
    </section>

    <!-- ============================
    Historial - Sprint 2
    ============================ -->
    <section id="historial" class="section">
      <h2>Historial de Rutas / Alertas</h2>
      <div class="card"><ul id="listaHistorial" class="list-puntos"></ul></div>
    </section>

    <!-- ============================
    Favoritos - Sprint 2
    ============================ -->
    <section id="favoritos" class="section">
      <h2>Favoritos</h2>
      <div class="card"><ul id="listaFavoritos" class="list-puntos"></ul></div>
    </section>
  </main>

  <!-- ============================
  MODALES Y ALERTAS - Sprint 3
  ============================ -->
  <div id="modalRegistro" class="modal hidden">
    <div class="modal-content">
      <h3>Registro de voluntarios</h3>
      <form id="formRegistro">
        <label for="nombre">Nombre:</label><input id="nombre" type="text" required>
        <label for="apellido">Apellido:</label><input id="apellido" type="text" required>
        <label for="email">Correo electr√≥nico:</label><input id="email" type="email" required>
        <label for="usuario">Usuario:</label><input id="usuario" type="text" required>
        <label for="password">Contrase√±a:</label><input id="password" type="password" required>
        <label for="telefono">Tel√©fono:</label><input id="telefono" type="tel">
        <label for="nacimiento">Fecha de nacimiento:</label><input id="nacimiento" type="date">
        <div class="modal-actions">
          <button type="submit" class="btn btn-primary">Registrarme</button>
          <button type="button" id="cancelarRegistro" class="btn btn-cancel">Cancelar</button>
        </div>
      </form>
    </div>
  </div>

  <div id="modalLogin" class="modal hidden">
    <div class="modal-content">
      <h3>Iniciar Sesi√≥n</h3>
      <form id="formLogin">
        <label for="loginUsuario">Usuario:</label><input id="loginUsuario" type="text" required>
        <label for="loginPass">Contrase√±a:</label><input id="loginPass" type="password" required>
        <div class="modal-actions">
          <button type="submit" class="btn btn-primary">Ingresar</button>
          <button type="button" id="cancelarLogin" class="btn btn-cancel">Cancelar</button>
        </div>
      </form>
    </div>
  </div>

  <div id="modalPrivacidad" class="modal hidden">
    <div class="modal-content">
      <h3>Aviso de Privacidad</h3>
      <p>Los datos personales se utilizan solo para conectar usuarios y voluntarios.</p>
      <button id="cerrarPrivacidad" class="btn btn-primary">Cerrar</button>
    </div>
  </div>

  <div id="alertaPopup" class="alerta hidden"></div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>

  <script src="app.js" defer></script>

  <!-- ============================
Foro - Nuevo
============================ -->
<section id="foro" class="section">
  <h2>Foro de la Comunidad</h2>

  <!-- Lista de publicaciones -->
  <ul id="listaForo" class="list-puntos"></ul>

  <!-- Formulario para agregar post -->
  <div class="card" style="margin-top:20px;">
    <h3>Crear publicaci√≥n</h3>
    <form id="formForo">
      <label for="foroUsuario">Usuario:</label>
      <input id="foroUsuario" type="text" required>

      <label for="foroMensaje">Mensaje:</label>
      <textarea id="foroMensaje" rows="4" required></textarea>

      <div class="modal-actions" style="justify-content:flex-end;">
        <button type="submit" class="btn btn-primary">Publicar</button>
      </div>
    </form>
  </div>
</section>

<!-- ============================
FIN index.html
============================ -->
</body>
</html>
